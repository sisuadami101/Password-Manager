<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureVault Pro - Password Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Variables for Theme */
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #3a0ca3;
            --accent: #7209b7;
            --success: #4cc9f0;
            --danger: #f72585;
            --warning: #f8961e;
            --info: #4895ef;
            --light: #f8f9fa;
            --dark: #212529;
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --card-bg: rgba(30, 41, 59, 0.7);
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-primary: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);
        }

        .light-theme {
            --bg-primary: #f1f5f9;
            --bg-secondary: #e2e8f0;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --card-bg: rgba(255, 255, 255, 0.8);
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            transition: var(--transition);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Background Animation */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .floating-shapes {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .shape {
            position: absolute;
            opacity: 0.1;
            border-radius: 50%;
            background: var(--primary);
            animation: float 20s infinite linear;
        }

        .shape:nth-child(1) {
            width: 80px;
            height: 80px;
            top: 20%;
            left: 10%;
            animation-delay: 0s;
            background: var(--primary);
        }

        .shape:nth-child(2) {
            width: 120px;
            height: 120px;
            top: 60%;
            left: 80%;
            animation-delay: -5s;
            background: var(--accent);
        }

        .shape:nth-child(3) {
            width: 60px;
            height: 60px;
            top: 80%;
            left: 20%;
            animation-delay: -10s;
            background: var(--success);
        }

        .shape:nth-child(4) {
            width: 100px;
            height: 100px;
            top: 40%;
            left: 70%;
            animation-delay: -15s;
            background: var(--warning);
        }

        /* Common Components */
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 16px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(67, 97, 238, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: rgba(67, 97, 238, 0.1);
            transform: translateY(-3px);
        }

        .btn-danger {
            background: var(--danger);
            color: white;
            box-shadow: 0 4px 15px rgba(247, 37, 133, 0.3);
        }

        .btn-danger:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(247, 37, 133, 0.4);
        }

        .card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .form-group {
            margin-bottom: 25px;
            position: relative;
        }

        .form-control {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
            background: rgba(255, 255, 255, 0.1);
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        /* Header Styles */
        header {
            padding: 20px 0;
            position: relative;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .logo-icon::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid white;
            border-radius: 50%;
        }

        .logo-icon::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            bottom: 8px;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .theme-toggle {
            width: 60px;
            height: 30px;
            background: var(--bg-secondary);
            border-radius: 15px;
            position: relative;
            cursor: pointer;
            transition: var(--transition);
        }

        .theme-toggle::before {
            content: '';
            position: absolute;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--primary);
            top: 3px;
            left: 3px;
            transition: var(--transition);
        }

        .light-theme .theme-toggle::before {
            left: 33px;
            background: var(--warning);
        }

        .theme-toggle i {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 14px;
        }

        .theme-toggle .fa-sun {
            left: 8px;
            color: var(--warning);
        }

        .theme-toggle .fa-moon {
            right: 8px;
            color: var(--text-secondary);
        }

        .settings-icon {
            font-size: 24px;
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-secondary);
        }

        .settings-icon:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }

        /* Footer Styles */
        footer {
            padding: 30px 0;
            text-align: center;
            margin-top: 60px;
        }

        .footer-text {
            font-size: 20px;
            margin-bottom: 10px;
            height: 35px;
            overflow: hidden;
            font-weight: 600;
        }

        .copyright {
            font-size: 14px;
            opacity: 0.7;
            color: var(--text-secondary);
        }

        /* Page Styles */
        .page {
            display: none;
            min-height: calc(100vh - 160px);
            padding: 40px 0;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        /* Splash Screen */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-primary);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .splash-content {
            text-align: center;
            position: relative;
        }

        .vault-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto 40px;
        }

        .vault {
            width: 200px;
            height: 200px;
            background: var(--card-bg);
            border-radius: 100px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border: 3px solid var(--primary);
            overflow: hidden;
        }

        .vault-door {
            width: 180px;
            height: 180px;
            background: var(--bg-secondary);
            border-radius: 90px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 1.5s ease;
        }

        .vault-handle {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: 50%;
            position: absolute;
            top: 30px;
        }

        .vault-keyhole {
            width: 20px;
            height: 30px;
            background: var(--text-secondary);
            border-radius: 10px;
            position: absolute;
            bottom: 50px;
        }

        .key {
            width: 100px;
            height: 20px;
            background: var(--accent);
            border-radius: 10px;
            position: absolute;
            top: 50%;
            right: -120px;
            transform: translateY(-50%);
            animation: keyApproach 2s ease forwards;
        }

        .key-handle {
            width: 40px;
            height: 40px;
            background: var(--warning);
            border-radius: 50%;
            position: absolute;
            left: -20px;
            top: 50%;
            transform: translateY(-50%);
        }

        .key-teeth {
            width: 30px;
            height: 15px;
            background: var(--info);
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            border-radius: 5px;
            clip-path: polygon(0 0, 100% 20%, 100% 80%, 0 100%);
        }

        .app-title {
            font-size: 52px;
            font-weight: 800;
            margin-bottom: 40px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .title-word {
            opacity: 0;
            transform: translateY(30px);
        }

        .footer-typing {
            font-size: 22px;
            margin-top: 40px;
            height: 35px;
            overflow: hidden;
            font-weight: 600;
        }

        /* Home Page */
        .page-title {
            text-align: center;
            margin-bottom: 50px;
            font-size: 36px;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 40px;
            margin-top: 50px;
        }

        .home-card {
            height: 240px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .home-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient);
            opacity: 0;
            transition: var(--transition);
            z-index: -1;
        }

        .home-card:hover::before {
            opacity: 0.1;
        }

        .card-icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 25px;
            transition: var(--transition);
        }

        .home-card:hover .card-icon {
            transform: scale(1.2) rotate(5deg);
        }

        .card-icon i {
            font-size: 36px;
            color: white;
        }

        .home-card h3 {
            font-size: 28px;
            margin-bottom: 15px;
        }

        .home-card p {
            opacity: 0.8;
            font-size: 16px;
        }

        /* Password Create Page */
        .form-container {
            max-width: 700px;
            margin: 0 auto;
        }

        .password-options {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }

        .option-tab {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .option-tab.active {
            background: rgba(67, 97, 238, 0.1);
            border-color: var(--primary);
            color: var(--primary);
        }

        .password-config {
            display: none;
            margin-bottom: 25px;
        }

        .password-config.active {
            display: block;
            animation: slideDown 0.5s ease;
        }

        .config-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
        }

        .config-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
        }

        .slider {
            flex: 1;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            transition: var(--transition);
        }

        .slider::-webkit-slider-thumb:hover {
            background: var(--secondary);
            transform: scale(1.2);
        }

        .password-output {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-top: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .password-text {
            font-family: monospace;
            font-size: 20px;
            letter-spacing: 2px;
            flex: 1;
        }

        .password-strength {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .strength-bar {
            height: 6px;
            flex: 1;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }

        .strength-fill {
            height: 100%;
            width: 0%;
            border-radius: 3px;
            transition: var(--transition);
        }

        .strength-weak .strength-fill {
            background: var(--danger);
            width: 33%;
        }

        .strength-medium .strength-fill {
            background: var(--warning);
            width: 66%;
        }

        .strength-strong .strength-fill {
            background: var(--success);
            width: 100%;
        }

        .copy-btn {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-size: 20px;
            cursor: pointer;
            transition: var(--transition);
            padding: 8px;
            border-radius: 8px;
        }

        .copy-btn:hover {
            color: var(--primary);
            background: rgba(255, 255, 255, 0.05);
        }

        .actions {
            display: flex;
            gap: 20px;
            margin-top: 40px;
        }

        /* Managed Password Page */
        .search-container {
            margin-bottom: 30px;
            position: relative;
        }

        .search-container i {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .search-container input {
            padding-left: 50px;
        }

        .table-container {
            overflow-x: auto;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 18px 16px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        th {
            background: rgba(255, 255, 255, 0.05);
            font-weight: 600;
            color: var(--text-secondary);
        }

        tr {
            transition: var(--transition);
        }

        tr:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        .password-cell {
            font-family: monospace;
            letter-spacing: 2px;
            position: relative;
            cursor: pointer;
        }

        .action-cell {
            display: flex;
            gap: 12px;
        }

        .action-btn {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
            padding: 8px;
            border-radius: 8px;
            font-size: 16px;
        }

        .action-btn:hover {
            transform: scale(1.2);
        }

        .view-btn:hover {
            color: var(--info);
        }

        .copy-btn:hover {
            color: var(--success);
        }

        .delete-btn:hover {
            color: var(--danger);
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }

        .empty-state i {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .delete-all-container {
            margin-top: 30px;
            text-align: center;
        }

        /* Settings Page */
        .settings-menu {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .settings-option {
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 2px solid transparent;
        }

        .settings-option:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .settings-option.active {
            background: rgba(67, 97, 238, 0.1);
            border-color: var(--primary);
        }

        .settings-option i {
            margin-right: 15px;
            font-size: 20px;
            color: var(--primary);
        }

        .settings-option .fa-chevron-right {
            margin-right: 0;
            transition: var(--transition);
        }

        .settings-option.active .fa-chevron-right {
            transform: rotate(90deg);
        }

        .settings-content {
            display: none;
        }

        .settings-content.active {
            display: block;
            animation: slideInRight 0.5s ease;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider-round {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider-round:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider-round {
            background-color: var(--primary);
        }

        input:checked + .slider-round:before {
            transform: translateX(26px);
        }

        /* Login Page */
        .login-container {
            max-width: 450px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .login-card {
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .login-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: var(--gradient);
            opacity: 0.1;
            z-index: -1;
            animation: rotate 10s linear infinite;
        }

        .login-icon {
            width: 100px;
            height: 100px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            animation: pulse 2s infinite;
        }

        .login-icon::before {
            content: '';
            width: 40px;
            height: 40px;
            border: 3px solid white;
            border-radius: 50%;
        }

        .login-icon::after {
            content: '';
            width: 15px;
            height: 15px;
            background: white;
            border-radius: 50%;
            position: absolute;
            bottom: 25px;
        }

        .pin-input {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 40px 0;
        }

        .pin-digit {
            width: 60px;
            height: 60px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            background: transparent;
            color: var(--text-primary);
            font-size: 28px;
            text-align: center;
            transition: var(--transition);
            font-weight: 600;
        }

        .pin-digit:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .forgot-pin {
            margin-top: 20px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
        }

        .forgot-pin:hover {
            color: var(--primary);
        }

        /* Recovery Page */
        .recovery-questions {
            margin-top: 30px;
        }

        .recovery-question {
            margin-bottom: 25px;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            padding: 18px 28px;
            background: var(--card-bg);
            color: var(--text-primary);
            border-radius: 12px;
            box-shadow: var(--shadow);
            transform: translateY(100px);
            opacity: 0;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 12px;
            border-left: 4px solid var(--primary);
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast i {
            font-size: 20px;
        }

        .toast.success i {
            color: var(--success);
        }

        .toast.error i {
            color: var(--danger);
        }

        .toast.info i {
            color: var(--info);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInRight {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes keyApproach {
            0% { right: -120px; transform: translateY(-50%) rotate(0); }
            50% { right: 40px; transform: translateY(-50%) rotate(0); }
            100% { right: 20px; transform: translateY(-50%) rotate(90deg); }
        }

        @keyframes unlockVault {
            0% { transform: translate(-50%, -50%) rotate(0); }
            100% { transform: translate(-50%, -50%) rotate(-90deg); }
        }

        @keyframes glow {
            0% { text-shadow: 0 0 5px rgba(67, 97, 238, 0.5); }
            50% { text-shadow: 0 0 20px rgba(67, 97, 238, 0.8), 0 0 30px rgba(67, 97, 238, 0.6); }
            100% { text-shadow: 0 0 5px rgba(67, 97, 238, 0.5); }
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
            20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        @keyframes ripple {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(4); opacity: 0; }
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
            100% { transform: translateY(0) rotate(360deg); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .app-title {
                font-size: 36px;
            }
            
            .page-title {
                font-size: 28px;
            }
            
            .home-card {
                height: 200px;
            }
            
            .cards-container {
                grid-template-columns: 1fr;
            }
            
            th, td {
                padding: 14px 10px;
                font-size: 14px;
            }
            
            .vault-container {
                width: 250px;
                height: 250px;
            }
            
            .vault {
                width: 160px;
                height: 160px;
            }
            
            .vault-door {
                width: 140px;
                height: 140px;
            }
        }

        @media (max-width: 480px) {
            .app-title {
                font-size: 28px;
            }
            
            .page-title {
                font-size: 24px;
            }
            
            .btn {
                padding: 12px 20px;
                font-size: 14px;
            }
            
            .form-control {
                padding: 14px 16px;
            }
            
            .password-text {
                font-size: 16px;
            }
            
            .pin-digit {
                width: 50px;
                height: 50px;
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- Background Animation -->
    <div class="bg-animation">
        <div class="floating-shapes">
            <div class="shape"></div>
            <div class="shape"></div>
            <div class="shape"></div>
            <div class="shape"></div>
        </div>
    </div>

    <!-- Splash Screen -->
    <div id="splash-screen" class="active">
        <div class="splash-content">
            <div class="vault-container">
                <div class="vault">
                    <div class="vault-door" id="vault-door">
                        <div class="vault-handle"></div>
                        <div class="vault-keyhole"></div>
                    </div>
                </div>
                <div class="key" id="splash-key">
                    <div class="key-handle"></div>
                    <div class="key-teeth"></div>
                </div>
            </div>
            <div class="app-title">
                <span class="title-word">Secure</span>
                <span class="title-word">Vault</span>
                <span class="title-word">Pro</span>
            </div>
            <div class="footer-typing" id="typing-footer"></div>
        </div>
    </div>

    <!-- Main App Structure -->
    <div id="app" style="display: none;">
        <!-- Header -->
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <div class="logo-icon"></div>
                        <span>SecureVault Pro</span>
                    </div>
                    <div class="header-actions">
                        <div class="theme-toggle" id="theme-toggle">
                            <i class="fas fa-sun"></i>
                            <i class="fas fa-moon"></i>
                        </div>
                        <div class="settings-icon" id="settings-toggle">
                            <i class="fas fa-cog"></i>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Pages -->
        <main>
            <!-- Home Page -->
            <div id="home-page" class="page active">
                <div class="container">
                    <h1 class="page-title">Advanced Password Management</h1>
                    <div class="cards-container">
                        <div class="card home-card" id="password-create-card">
                            <div class="card-icon">
                                <i class="fas fa-key"></i>
                            </div>
                            <h3>Create Password</h3>
                            <p>Generate secure passwords or create your own with advanced options</p>
                        </div>
                        <div class="card home-card" id="managed-password-card">
                            <div class="card-icon">
                                <i class="fas fa-folder"></i>
                            </div>
                            <h3>Manage Passwords</h3>
                            <p>View, edit and organize your saved passwords securely</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Password Create Page -->
            <div id="password-create" class="page">
                <div class="container">
                    <h1 class="page-title">Create New Password</h1>
                    <div class="form-container">
                        <div class="card">
                            <div class="form-group">
                                <label for="website">Website Name</label>
                                <input type="text" id="website" class="form-control" placeholder="Enter website name">
                            </div>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" class="form-control" placeholder="Enter email">
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone</label>
                                <input type="text" id="phone" class="form-control" placeholder="Enter phone number">
                            </div>
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input type="text" id="username" class="form-control" placeholder="Enter username">
                            </div>
                            
                            <div class="password-options">
                                <div class="option-tab active" data-option="auto">Auto Generate</div>
                                <div class="option-tab" data-option="manual">Manual Input</div>
                            </div>
                            
                            <div class="password-config active" id="auto-config">
                                <div class="slider-container">
                                    <label for="password-length">Password Length: <span id="length-value">12</span></label>
                                    <input type="range" id="password-length" class="slider" min="8" max="32" value="12">
                                </div>
                                <div class="config-options">
                                    <div class="config-option">
                                        <input type="checkbox" id="uppercase" checked>
                                        <label for="uppercase">Uppercase (A-Z)</label>
                                    </div>
                                    <div class="config-option">
                                        <input type="checkbox" id="lowercase" checked>
                                        <label for="lowercase">Lowercase (a-z)</label>
                                    </div>
                                    <div class="config-option">
                                        <input type="checkbox" id="numbers" checked>
                                        <label for="numbers">Numbers (0-9)</label>
                                    </div>
                                    <div class="config-option">
                                        <input type="checkbox" id="symbols" checked>
                                        <label for="symbols">Symbols (!@#$%)</label>
                                    </div>
                                </div>
                                <button class="btn btn-primary" id="generate-password">
                                    <i class="fas fa-sync-alt"></i> Generate Password
                                </button>
                            </div>
                            
                            <div class="password-config" id="manual-config">
                                <div class="form-group">
                                    <label for="manual-password">Enter Your Password</label>
                                    <input type="text" id="manual-password" class="form-control" placeholder="Type your password">
                                </div>
                                <div class="password-strength" id="manual-strength">
                                    <span>Strength:</span>
                                    <div class="strength-bar">
                                        <div class="strength-fill"></div>
                                    </div>
                                    <span id="strength-text">Weak</span>
                                </div>
                            </div>
                            
                            <div class="password-output" id="password-output" style="display: none;">
                                <div>
                                    <div class="password-text" id="generated-password"></div>
                                    <div class="password-strength" id="password-strength">
                                        <span>Strength:</span>
                                        <div class="strength-bar">
                                            <div class="strength-fill"></div>
                                        </div>
                                        <span id="strength-text">Strong</span>
                                    </div>
                                </div>
                                <button class="copy-btn" id="copy-password">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            <div class="actions">
                                <button class="btn btn-secondary" id="back-home">
                                    <i class="fas fa-arrow-left"></i> Back
                                </button>
                                <button class="btn btn-primary" id="save-password">
                                    <i class="fas fa-save"></i> Save Password
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Managed Password Page -->
            <div id="managed-password" class="page">
                <div class="container">
                    <h1 class="page-title">Managed Passwords</h1>
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-passwords" class="form-control" placeholder="Search passwords...">
                    </div>
                    <div class="table-container">
                        <table id="passwords-table">
                            <thead>
                                <tr>
                                    <th>Website</th>
                                    <th>Email</th>
                                    <th>Username</th>
                                    <th>Password</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="passwords-table-body">
                                <!-- Password entries will be added here dynamically -->
                            </tbody>
                        </table>
                        <div class="empty-state" id="empty-state" style="display: none;">
                            <i class="fas fa-folder-open"></i>
                            <h3>No Passwords Saved Yet</h3>
                            <p>Create your first password to get started</p>
                        </div>
                    </div>
                    <div class="delete-all-container">
                        <button class="btn btn-danger" id="delete-all-passwords">
                            <i class="fas fa-trash"></i> Delete All Passwords
                        </button>
                    </div>
                    <div class="actions" style="margin-top: 30px;">
                        <button class="btn btn-secondary" id="back-home-2">
                            <i class="fas fa-arrow-left"></i> Back to Home
                        </button>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="settings-page" class="page">
                <div class="container">
                    <h1 class="page-title">Settings</h1>
                    <div class="card">
                        <div class="settings-menu">
                            <div class="settings-option active" data-target="pin-setup">
                                <div>
                                    <i class="fas fa-lock"></i>
                                    <span>PIN Setup</span>
                                </div>
                                <i class="fas fa-chevron-right"></i>
                            </div>
                            <div class="settings-option" data-target="pin-recovery">
                                <div>
                                    <i class="fas fa-key"></i>
                                    <span>PIN Recovery</span>
                                </div>
                                <i class="fas fa-chevron-right"></i>
                            </div>
                            <div class="settings-option" data-target="security">
                                <div>
                                    <i class="fas fa-shield-alt"></i>
                                    <span>Security</span>
                                </div>
                                <i class="fas fa-chevron-right"></i>
                            </div>
                            <div class="settings-option" data-target="appearance">
                                <div>
                                    <i class="fas fa-palette"></i>
                                    <span>Appearance</span>
                                </div>
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>
                        
                        <div id="pin-setup" class="settings-content active">
                            <h3>PIN Setup</h3>
                            <div class="form-group">
                                <label for="current-pin">Current PIN</label>
                                <input type="password" id="current-pin" class="form-control" placeholder="Enter current PIN" maxlength="4">
                            </div>
                            <div class="form-group">
                                <label for="new-pin">New PIN</label>
                                <input type="password" id="new-pin" class="form-control" placeholder="Enter new PIN" maxlength="4">
                            </div>
                            <div class="form-group">
                                <label for="confirm-pin">Confirm PIN</label>
                                <input type="password" id="confirm-pin" class="form-control" placeholder="Confirm new PIN" maxlength="4">
                            </div>
                            <button class="btn btn-primary" id="save-pin">
                                <i class="fas fa-save"></i> Save PIN
                            </button>
                        </div>
                        
                        <div id="pin-recovery" class="settings-content">
                            <h3>PIN Recovery</h3>
                            <p>Set up security questions to recover your PIN if forgotten.</p>
                            <div class="recovery-questions">
                                <div class="form-group">
                                    <label for="question1">Security Question 1</label>
                                    <select id="question1" class="form-control">
                                        <option value="">Select a question</option>
                                        <option value="What was your first pet's name?">What was your first pet's name?</option>
                                        <option value="What city were you born in?">What city were you born in?</option>
                                        <option value="What is your mother's maiden name?">What is your mother's maiden name?</option>
                                    </select>
                                    <input type="text" id="answer1" class="form-control" placeholder="Your answer" style="margin-top: 10px;">
                                </div>
                                <div class="form-group">
                                    <label for="question2">Security Question 2</label>
                                    <select id="question2" class="form-control">
                                        <option value="">Select a question</option>
                                        <option value="What was the name of your first school?">What was the name of your first school?</option>
                                        <option value="What is your favorite book?">What is your favorite book?</option>
                                        <option value="What was your childhood nickname?">What was your childhood nickname?</option>
                                    </select>
                                    <input type="text" id="answer2" class="form-control" placeholder="Your answer" style="margin-top: 10px;">
                                </div>
                            </div>
                            <button class="btn btn-primary" id="save-recovery">
                                <i class="fas fa-save"></i> Save Recovery Questions
                            </button>
                        </div>
                        
                        <div id="security" class="settings-content">
                            <h3>Security Settings</h3>
                            <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 20px;">
                                <div>
                                    <h4>Auto Lock</h4>
                                    <p>Automatically lock the app after 5 minutes of inactivity</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="auto-lock" checked>
                                    <span class="slider-round"></span>
                                </label>
                            </div>
                            <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 20px;">
                                <div>
                                    <h4>Biometric Authentication</h4>
                                    <p>Use fingerprint or face ID to unlock the app</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="biometric-auth">
                                    <span class="slider-round"></span>
                                </label>
                            </div>
                            <div style="display: flex; justify-content: between; align-items: center;">
                                <div>
                                    <h4>Do Not Disturb Mode</h4>
                                    <p>Disable login and unlock all pages</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="dnd-toggle">
                                    <span class="slider-round"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div id="appearance" class="settings-content">
                            <h3>Appearance Settings</h3>
                            <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 20px;">
                                <div>
                                    <h4>Dark Mode</h4>
                                    <p>Switch between dark and light themes</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="dark-mode-toggle">
                                    <span class="slider-round"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="font-size">Font Size</label>
                                <select id="font-size" class="form-control">
                                    <option value="small">Small</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="large">Large</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="animation-speed">Animation Speed</label>
                                <select id="animation-speed" class="form-control">
                                    <option value="slow">Slow</option>
                                    <option value="normal" selected>Normal</option>
                                    <option value="fast">Fast</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="actions" style="margin-top: 30px;">
                        <button class="btn btn-secondary" id="back-home-3">
                            <i class="fas fa-arrow-left"></i> Back to Home
                        </button>
                    </div>
                </div>
            </div>

            <!-- Login Page -->
            <div id="login-page" class="page">
                <div class="container">
                    <div class="login-container">
                        <div class="card login-card">
                            <div class="login-icon"></div>
                            <h2>Enter PIN to Unlock</h2>
                            <div class="pin-input">
                                <input type="password" maxlength="1" class="pin-digit" id="pin-1">
                                <input type="password" maxlength="1" class="pin-digit" id="pin-2">
                                <input type="password" maxlength="1" class="pin-digit" id="pin-3">
                                <input type="password" maxlength="1" class="pin-digit" id="pin-4">
                            </div>
                            <button class="btn btn-primary" id="login-btn">
                                <i class="fas fa-unlock"></i> Unlock
                            </button>
                            <p class="forgot-pin" id="forgot-pin">Forgot PIN?</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PIN Recovery Page -->
            <div id="recovery-page" class="page">
                <div class="container">
                    <div class="login-container">
                        <div class="card login-card">
                            <div class="login-icon"></div>
                            <h2>Recover Your PIN</h2>
                            <p>Answer your security questions to reset your PIN</p>
                            
                            <div class="form-group">
                                <label for="recover-question1" id="recover-q1-label">What was your first pet's name?</label>
                                <input type="text" id="recover-answer1" class="form-control" placeholder="Your answer">
                            </div>
                            
                            <div class="form-group">
                                <label for="recover-question2" id="recover-q2-label">What city were you born in?</label>
                                <input type="text" id="recover-answer2" class="form-control" placeholder="Your answer">
                            </div>
                            
                            <button class="btn btn-primary" id="verify-recovery">
                                <i class="fas fa-check"></i> Verify Answers
                            </button>
                            
                            <div class="actions" style="margin-top: 30px;">
                                <button class="btn btn-secondary" id="back-to-login">
                                    <i class="fas fa-arrow-left"></i> Back to Login
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer>
            <div class="container">
                <div class="footer-text" id="footer-typing"></div>
                <div class="copyright"> 2023 SecureVault Pro Password Manager. All rights reserved.</div>
            </div>
        </footer>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script>
        // DOM Elements
        const splashScreen = document.getElementById('splash-screen');
        const app = document.getElementById('app');
        const pages = document.querySelectorAll('.page');
        const themeToggle = document.getElementById('theme-toggle');
        const settingsToggle = document.getElementById('settings-toggle');
        const passwordCreateCard = document.getElementById('password-create-card');
        const managedPasswordCard = document.getElementById('managed-password-card');
        const backButtons = document.querySelectorAll('[id^="back-home"]');
        const backToLogin = document.getElementById('back-to-login');
        const optionTabs = document.querySelectorAll('.option-tab');
        const passwordConfigs = document.querySelectorAll('.password-config');
        const generatePasswordBtn = document.getElementById('generate-password');
        const passwordOutput = document.getElementById('password-output');
        const generatedPassword = document.getElementById('generated-password');
        const copyPasswordBtn = document.getElementById('copy-password');
        const savePasswordBtn = document.getElementById('save-password');
        const manualPassword = document.getElementById('manual-password');
        const passwordLength = document.getElementById('password-length');
        const lengthValue = document.getElementById('length-value');
        const searchPasswords = document.getElementById('search-passwords');
        const passwordsTableBody = document.getElementById('passwords-table-body');
        const emptyState = document.getElementById('empty-state');
        const deleteAllPasswordsBtn = document.getElementById('delete-all-passwords');
        const settingsOptions = document.querySelectorAll('.settings-option');
        const settingsContents = document.querySelectorAll('.settings-content');
        const savePinBtn = document.getElementById('save-pin');
        const saveRecoveryBtn = document.getElementById('save-recovery');
        const dndToggle = document.getElementById('dnd-toggle');
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const pinDigits = document.querySelectorAll('.pin-digit');
        const loginBtn = document.getElementById('login-btn');
        const forgotPin = document.getElementById('forgot-pin');
        const verifyRecovery = document.getElementById('verify-recovery');
        const toast = document.getElementById('toast');
        const typingFooter = document.getElementById('typing-footer');
        const footerTyping = document.getElementById('footer-typing');
        const vaultDoor = document.getElementById('vault-door');
        const splashKey = document.getElementById('splash-key');

        // App State
        let passwords = JSON.parse(localStorage.getItem('pm_vault_v1')) || [];
        let pin = localStorage.getItem('pm_pin_v1') || '1234';
        let isLoggedIn = localStorage.getItem('isLoggedIn') || false;
        let dndMode = localStorage.getItem('dndMode') || false;
        let recoveryQuestions = JSON.parse(localStorage.getItem('recovery_questions')) || {
            question1: "What was your first pet's name?",
            answer1: "",
            question2: "What city were you born in?",
            answer2: ""
        };
        let currentTheme = localStorage.getItem('currentTheme') || 'dark';

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            // Apply saved theme
            if (currentTheme === 'light') {
                document.body.classList.add('light-theme');
                darkModeToggle.checked = false;
            } else {
                darkModeToggle.checked = true;
            }
            
            // Start splash screen animations
            startSplashAnimations();
            
            // After splash screen, check if login is required
            setTimeout(() => {
                // Animate vault unlocking
                vaultDoor.style.animation = 'unlockVault 1.5s ease forwards';
                
                setTimeout(() => {
                    splashScreen.style.display = 'none';
                    app.style.display = 'block';
                    
                    if (!dndMode && !isLoggedIn) {
                        showPage('login-page');
                    } else {
                        showPage('home-page');
                        startFooterTyping();
                    }
                }, 1500);
            }, 3000);
            
            // Load saved passwords to table
            loadPasswordsTable();
            
            // Set up event listeners
            setupEventListeners();
            
            // Check password strength for manual input
            manualPassword.addEventListener('input', checkPasswordStrength);
            
            // Update password length value display
            passwordLength.addEventListener('input', function() {
                lengthValue.textContent = this.value;
            });
        });

        // Animation Functions
        function startSplashAnimations() {
            // Animate title words
            const titleWords = document.querySelectorAll('.title-word');
            titleWords.forEach((word, index) => {
                setTimeout(() => {
                    word.style.opacity = '1';
                    word.style.transform = 'translateY(0)';
                    word.style.animation = 'glow 2s infinite';
                }, index * 500);
            });
            
            // Type footer text
            typeText(typingFooter, 'Create By SOJIB', 100, () => {
                // Loop the typing animation
                setTimeout(() => {
                    typingFooter.innerHTML = '';
                    typeText(typingFooter, 'Create By SOJIB', 100);
                }, 2000);
            });
        }
        
        function startFooterTyping() {
            typeText(footerTyping, 'Create By SOJIB', 100, () => {
                // Loop the typing animation
                setTimeout(() => {
                    footerTyping.innerHTML = '';
                    typeText(footerTyping, 'Create By SOJIB', 100);
                }, 2000);
            });
        }
        
        function typeText(element, text, speed, callback) {
            let i = 0;
            element.innerHTML = '';
            
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                } else if (callback) {
                    setTimeout(callback, 1000);
                }
            }
            
            type();
        }
        
        function showToast(message, type = 'info') {
            toast.textContent = message;
            toast.className = `toast show ${type}`;
            
            // Set icon based on type
            let icon = 'info-circle';
            if (type === 'success') icon = 'check-circle';
            if (type === 'error') icon = 'exclamation-circle';
            
            toast.innerHTML = `<i class="fas fa-${icon}"></i> ${message}`;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        function shakeElement(element) {
            element.style.animation = 'shake 0.5s ease';
            setTimeout(() => {
                element.style.animation = '';
            }, 500);
        }
        
        function rippleEffect(event) {
            const button = event.currentTarget;
            const circle = document.createElement('span');
            const diameter = Math.max(button.clientWidth, button.clientHeight);
            const radius = diameter / 2;
            
            circle.style.width = circle.style.height = `${diameter}px`;
            circle.style.left = `${event.clientX - button.offsetLeft - radius}px`;
            circle.style.top = `${event.clientY - button.offsetTop - radius}px`;
            circle.classList.add('ripple');
            circle.style.position = 'absolute';
            circle.style.borderRadius = '50%';
            circle.style.backgroundColor = 'rgba(255, 255, 255, 0.6)';
            circle.style.transform = 'scale(0)';
            circle.style.animation = 'ripple 0.6s linear';
            
            const ripple = button.getElementsByClassName('ripple')[0];
            if (ripple) {
                ripple.remove();
            }
            
            button.appendChild(circle);
        }

        // Password Strength Checker
        function checkPasswordStrength() {
            const password = manualPassword.value;
            const strengthBar = document.querySelector('#manual-strength .strength-fill');
            const strengthText = document.querySelector('#manual-strength #strength-text');
            const container = document.getElementById('manual-strength');
            
            // Reset classes
            container.classList.remove('strength-weak', 'strength-medium', 'strength-strong');
            
            if (password.length === 0) {
                strengthBar.style.width = '0%';
                strengthText.textContent = '';
                return;
            }
            
            let strength = 0;
            
            // Length check
            if (password.length >= 8) strength += 1;
            if (password.length >= 12) strength += 1;
            
            // Character variety checks
            if (/[a-z]/.test(password)) strength += 1;
            if (/[A-Z]/.test(password)) strength += 1;
            if (/[0-9]/.test(password)) strength += 1;
            if (/[^a-zA-Z0-9]/.test(password)) strength += 1;
            
            // Determine strength level
            if (strength <= 2) {
                container.classList.add('strength-weak');
                strengthText.textContent = 'Weak';
            } else if (strength <= 4) {
                container.classList.add('strength-medium');
                strengthText.textContent = 'Medium';
            } else {
                container.classList.add('strength-strong');
                strengthText.textContent = 'Strong';
            }
        }

        // Page Navigation
        function showPage(pageId) {
            pages.forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            // Special handling for specific pages
            if (pageId === 'managed-password') {
                loadPasswordsTable();
            }
        }

        // Password Generation
        function generatePassword() {
            const length = parseInt(passwordLength.value);
            const uppercase = document.getElementById('uppercase').checked;
            const lowercase = document.getElementById('lowercase').checked;
            const numbers = document.getElementById('numbers').checked;
            const symbols = document.getElementById('symbols').checked;
            
            let charset = "";
            if (lowercase) charset += "abcdefghijklmnopqrstuvwxyz";
            if (uppercase) charset += "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
            if (numbers) charset += "0123456789";
            if (symbols) charset += "!@#$%^&*()_+-=[]{}|;:,.<>?";
            
            // If no character types selected, use all
            if (charset === "") {
                charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=[]{}|;:,.<>?";
            }
            
            let password = "";
            for (let i = 0; i < length; i++) {
                password += charset.charAt(Math.floor(Math.random() * charset.length));
            }
            return password;
        }

        // Password Management
        function savePassword() {
            const website = document.getElementById('website').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const username = document.getElementById('username').value;
            
            let password = "";
            if (document.getElementById('auto-config').classList.contains('active')) {
                password = generatedPassword.textContent;
            } else {
                password = manualPassword.value;
            }
            
            if (!website || !password) {
                showToast('Website and password are required!', 'error');
                return;
            }
            
            const passwordEntry = {
                id: Date.now().toString(),
                website,
                email,
                phone,
                username,
                password,
                notes: '',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            
            passwords.push(passwordEntry);
            localStorage.setItem('pm_vault_v1', JSON.stringify(passwords));
            
            showToast('Password saved successfully!', 'success');
            
            // Clear form
            document.getElementById('website').value = '';
            document.getElementById('email').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('username').value = '';
            manualPassword.value = '';
            passwordOutput.style.display = 'none';
            
            // Switch back to auto generate tab
            optionTabs[0].click();
        }
        
        function loadPasswordsTable() {
            passwordsTableBody.innerHTML = '';
            
            if (passwords.length === 0) {
                emptyState.style.display = 'block';
                return;
            } else {
                emptyState.style.display = 'none';
            }
            
            passwords.forEach(password => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${password.website}</td>
                    <td>${password.email}</td>
                    <td>${password.username}</td>
                    <td class="password-cell" data-password="${password.password}"></td>
                    <td class="action-cell">
                        <button class="action-btn view-btn" data-id="${password.id}">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn copy-btn" data-id="${password.id}">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button class="action-btn delete-btn" data-id="${password.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                passwordsTableBody.appendChild(row);
            });
            
            // Add event listeners for action buttons
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    const password = passwords.find(p => p.id === id);
                    const passwordCell = this.closest('tr').querySelector('.password-cell');
                    
                    if (password) {
                        if (passwordCell.textContent === '') {
                            passwordCell.textContent = password.password;
                            this.innerHTML = '<i class="fas fa-eye-slash"></i>';
                        } else {
                            passwordCell.textContent = '';
                            this.innerHTML = '<i class="fas fa-eye"></i>';
                        }
                    }
                });
            });
            
            document.querySelectorAll('.copy-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    const password = passwords.find(p => p.id === id);
                    if (password) {
                        navigator.clipboard.writeText(password.password)
                            .then(() => showToast('Password copied to clipboard!', 'success'))
                            .catch(() => showToast('Failed to copy password', 'error'));
                        
                        // Add animation effect
                        this.style.animation = 'pulse 0.5s';
                        setTimeout(() => {
                            this.style.animation = '';
                        }, 500);
                    }
                });
            });
            
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    deletePassword(id);
                });
            });
        }
        
        function deletePassword(id) {
            if (confirm('Are you sure you want to delete this password?')) {
                passwords = passwords.filter(p => p.id !== id);
                localStorage.setItem('pm_vault_v1', JSON.stringify(passwords));
                loadPasswordsTable();
                showToast('Password deleted successfully!', 'success');
            }
        }
        
        function deleteAllPasswords() {
            if (confirm('Are you sure you want to delete all passwords? This action cannot be undone.')) {
                passwords = [];
                localStorage.setItem('pm_vault_v1', JSON.stringify(passwords));
                loadPasswordsTable();
                showToast('All passwords deleted!', 'success');
            }
        }

        // PIN Management
        function savePIN() {
            const currentPin = document.getElementById('current-pin').value;
            const newPin = document.getElementById('new-pin').value;
            const confirmPin = document.getElementById('confirm-pin').value;
            
            if (currentPin !== pin) {
                showToast('Current PIN is incorrect!', 'error');
                shakeElement(document.getElementById('current-pin'));
                return;
            }
            
            if (newPin.length !== 4 || !/^\d+$/.test(newPin)) {
                showToast('PIN must be 4 digits!', 'error');
                shakeElement(document.getElementById('new-pin'));
                return;
            }
            
            if (newPin !== confirmPin) {
                showToast('PINs do not match!', 'error');
                shakeElement(document.getElementById('confirm-pin'));
                return;
            }
            
            pin = newPin;
            localStorage.setItem('pm_pin_v1', pin);
            showToast('PIN updated successfully!', 'success');
            
            // Clear form
            document.getElementById('current-pin').value = '';
            document.getElementById('new-pin').value = '';
            document.getElementById('confirm-pin').value = '';
        }
        
        function saveRecoveryQuestions() {
            const question1 = document.getElementById('question1').value;
            const answer1 = document.getElementById('answer1').value;
            const question2 = document.getElementById('question2').value;
            const answer2 = document.getElementById('answer2').value;
            
            if (!question1 || !answer1 || !question2 || !answer2) {
                showToast('Please fill all recovery questions and answers!', 'error');
                return;
            }
            
            recoveryQuestions = {
                question1,
                answer1: answer1.toLowerCase(),
                question2,
                answer2: answer2.toLowerCase()
            };
            
            localStorage.setItem('recovery_questions', JSON.stringify(recoveryQuestions));
            showToast('Recovery questions saved successfully!', 'success');
        }
        
        function login() {
            const enteredPin = Array.from(pinDigits).map(digit => digit.value).join('');
            
            if (enteredPin === pin) {
                isLoggedIn = true;
                localStorage.setItem('isLoggedIn', true);
                showPage('home-page');
                showToast('Login successful!', 'success');
                startFooterTyping();
            } else {
                showToast('Invalid PIN!', 'error');
                pinDigits.forEach(digit => {
                    digit.value = '';
                    shakeElement(digit);
                });
                pinDigits[0].focus();
            }
        }
        
        function recoverPIN() {
            const answer1 = document.getElementById('recover-answer1').value.toLowerCase();
            const answer2 = document.getElementById('recover-answer2').value.toLowerCase();
            
            if (answer1 === recoveryQuestions.answer1 && answer2 === recoveryQuestions.answer2) {
                // Generate a temporary PIN
                const tempPin = Math.floor(1000 + Math.random() * 9000).toString();
                pin = tempPin;
                localStorage.setItem('pm_pin_v1', pin);
                
                showToast(`Your temporary PIN is ${tempPin}. Please change it in settings.`, 'success');
                showPage('login-page');
            } else {
                showToast('Incorrect answers! Please try again.', 'error');
                shakeElement(document.getElementById('recover-answer1'));
                shakeElement(document.getElementById('recover-answer2'));
            }
        }

        // Theme Toggle
        function toggleTheme() {
            if (document.body.classList.contains('light-theme')) {
                document.body.classList.remove('light-theme');
                localStorage.setItem('currentTheme', 'dark');
            } else {
                document.body.classList.add('light-theme');
                localStorage.setItem('currentTheme', 'light');
            }
        }

        // Event Listeners Setup
        function setupEventListeners() {
            // Navigation
            settingsToggle.addEventListener('click', () => showPage('settings-page'));
            passwordCreateCard.addEventListener('click', () => showPage('password-create'));
            managedPasswordCard.addEventListener('click', () => showPage('managed-password'));
            backButtons.forEach(btn => btn.addEventListener('click', () => showPage('home-page')));
            backToLogin.addEventListener('click', () => showPage('login-page'));
            
            // Password creation tabs
            optionTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const option = this.getAttribute('data-option');
                    
                    optionTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    passwordConfigs.forEach(config => {
                        config.classList.remove('active');
                    });
                    
                    document.getElementById(`${option}-config`).classList.add('active');
                    
                    if (option === 'manual') {
                        checkPasswordStrength();
                    }
                });
            });
            
            // Password creation
            generatePasswordBtn.addEventListener('click', function() {
                const password = generatePassword();
                generatedPassword.textContent = password;
                passwordOutput.style.display = 'flex';
                passwordOutput.style.animation = 'slideDown 0.5s ease';
                
                // Set strength to strong for auto-generated passwords
                const strengthContainer = document.getElementById('password-strength');
                strengthContainer.className = 'password-strength strength-strong';
                document.querySelector('#password-strength #strength-text').textContent = 'Strong';
            });
            
            copyPasswordBtn.addEventListener('click', function(e) {
                navigator.clipboard.writeText(generatedPassword.textContent)
                    .then(() => showToast('Password copied to clipboard!', 'success'))
                    .catch(() => showToast('Failed to copy password', 'error'));
                rippleEffect(e);
            });
            
            savePasswordBtn.addEventListener('click', savePassword);
            
            // Password management
            searchPasswords.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const rows = passwordsTableBody.querySelectorAll('tr');
                let hasResults = false;
                
                rows.forEach(row => {
                    const cells = row.querySelectorAll('td');
                    let matches = false;
                    
                    cells.forEach(cell => {
                        if (cell.textContent.toLowerCase().includes(searchTerm)) {
                            matches = true;
                            hasResults = true;
                        }
                    });
                    
                    row.style.display = matches ? '' : 'none';
                });
                
                // Show empty state if no results
                if (!hasResults && passwords.length > 0) {
                    emptyState.style.display = 'block';
                    emptyState.innerHTML = `
                        <i class="fas fa-search"></i>
                        <h3>No Matching Passwords</h3>
                        <p>Try adjusting your search terms</p>
                    `;
                } else if (passwords.length === 0) {
                    emptyState.style.display = 'block';
                    emptyState.innerHTML = `
                        <i class="fas fa-folder-open"></i>
                        <h3>No Passwords Saved Yet</h3>
                        <p>Create your first password to get started</p>
                    `;
                } else {
                    emptyState.style.display = 'none';
                }
            });
            
            deleteAllPasswordsBtn.addEventListener('click', deleteAllPasswords);
            
            // Settings
            settingsOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const target = this.getAttribute('data-target');
                    
                    settingsOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    
                    settingsContents.forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    document.getElementById(target).classList.add('active');
                });
            });
            
            savePinBtn.addEventListener('click', savePIN);
            saveRecoveryBtn.addEventListener('click', saveRecoveryQuestions);
            
            dndToggle.addEventListener('change', function() {
                dndMode = this.checked;
                localStorage.setItem('dndMode', dndMode);
                
                if (dndMode) {
                    showToast('Do Not Disturb mode enabled', 'success');
                } else {
                    showToast('Do Not Disturb mode disabled', 'info');
                }
            });
            
            darkModeToggle.addEventListener('change', toggleTheme);
            themeToggle.addEventListener('click', toggleTheme);
            
            // Login
            pinDigits.forEach((digit, index) => {
                digit.addEventListener('input', function() {
                    if (this.value.length === 1 && index < pinDigits.length - 1) {
                        pinDigits[index + 1].focus();
                    }
                });
                
                digit.addEventListener('keydown', function(e) {
                    if (e.key === 'Backspace' && this.value.length === 0 && index > 0) {
                        pinDigits[index - 1].focus();
                    }
                });
            });
            
            loginBtn.addEventListener('click', login);
            
            forgotPin.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Check if recovery questions are set
                if (!recoveryQuestions.answer1 || !recoveryQuestions.answer2) {
                    showToast('Recovery questions not set up. Please set them in settings.', 'error');
                    return;
                }
                
                // Set up recovery page with user's questions
                document.getElementById('recover-q1-label').textContent = recoveryQuestions.question1;
                document.getElementById('recover-q2-label').textContent = recoveryQuestions.question2;
                
                showPage('recovery-page');
            });
            
            verifyRecovery.addEventListener('click', recoverPIN);
            
            // Add ripple effects to buttons
            document.querySelectorAll('.btn').forEach(button => {
                button.addEventListener('click', rippleEffect);
            });
        }
    </script>
</body>
</html>